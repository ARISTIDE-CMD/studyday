import type { AppLanguage } from '@/lib/settings-storage';

export type I18nParams = Record<string, string | number>;

const dictionaries = {
  fr: {
    common: {
      loading: 'Chargement...',
      retry: 'Reessayer',
      back: 'Retour',
      save: 'Enregistrer',
      add: 'Ajouter',
      cancel: 'Annuler',
      noDate: 'Sans date',
      today: 'aujourdhui',
      week: 'semaine',
      important: 'Important',
      details: 'Voir le detail',
      searchResource: 'Rechercher une ressource',
      networkErrorTitle: 'Erreur reseau',
      genericError: 'Une erreur est survenue.',
      selectedCount: '{count} selectionne(s)',
    },
    nav: {
      home: 'Accueil',
      tasks: 'Taches',
      resources: 'Ressources',
      announcements: 'Annonces',
      profile: 'Profil',
    },
    // states: {
    //   auto: 'auto',
    //   loading: 'chargement',
    //   empty: 'vide',
    //   error: 'erreur',
    // },
    priority: {
      low: 'Faible',
      medium: 'Moyenne',
      high: 'Elevee',
    },
    auth: {
      onboardingTitle: 'Organise ton quotidien etudiant',
      onboardingSubtitle:
        'Gere tes taches, centralise tes ressources et reste informe grace aux annonces.',
      onboardingCreateAccount: 'Creer un compte',
      onboardingSignIn: 'Se connecter',
      loginTitle: 'Connexion',
      loginSubtitle: 'Accede a ton espace etudiant.',
      signupTitle: 'Inscription',
      signupSubtitle: 'Cree ton compte et commence a t organiser.',
      email: 'Email',
      password: 'Mot de passe',
      passwordConfirm: 'Confirmation mot de passe',
      forgotPassword: 'Mot de passe oublie ?',
      continue: 'Continuer',
      noAccount: 'Pas encore de compte ?',
      hasAccount: 'Deja un compte ?',
      signIn: 'Se connecter',
      signUp: 'S inscrire',
      forgotTitle: 'Mot de passe oublie',
      forgotSubtitle: 'Saisis ton email pour recevoir un lien de reinitialisation.',
      forgotSend: 'Envoyer le lien',
      forgotBackToLogin: 'Retour a la connexion',
      resetTitle: 'Nouveau mot de passe',
      resetSubtitle: 'Definis ton nouveau mot de passe pour securiser ton compte.',
      resetUpdate: 'Mettre a jour',
      resetReadyError:
        'Session de reinitialisation introuvable. Ouvre le lien email depuis ce telephone.',
      resetOpenFromMail:
        'Ouvre ce screen depuis le lien recu par email pour activer la reinitialisation.',
      errRequiredFields: 'Tous les champs sont obligatoires.',
      errEmailRequired: 'Entre ton adresse email.',
      errEmailPasswordRequired: 'Email et mot de passe requis.',
      errPasswordMismatch: 'La confirmation du mot de passe ne correspond pas.',
      errPasswordShort: 'Le mot de passe doit contenir au moins 6 caracteres.',
      infoSignupVerifyMail: 'Compte cree. Verifie ton email puis connecte toi.',
      infoMailSent:
        'Email envoye. Ouvre le lien recu pour definir un nouveau mot de passe.',
      infoPasswordUpdated: 'Mot de passe mis a jour. Tu peux te reconnecter.',
      welcomeTitle: 'Bienvenue sur StudyDay',
      welcomeLoginMessage:
        'Centralise tes taches, ressources et annonces au meme endroit pour rester organise chaque jour.',
      welcomeSignupMessage:
        'Tu peux maintenant piloter tes taches, ressources et annonces depuis une seule application.',
    },
    postLogin: {
      kicker: 'Connexion etablie',
      title: 'Bienvenue, {name}',
      subtitle: 'Ton espace se prepare avec tes taches, ressources et annonces.',
      loadingDashboard: 'Chargement de ton dashboard...',
      skip: 'Passer',
      fallbackName: 'Etudiant',
    },
    launch: {
      title: 'Ton espace etudiant',
      subtitle: 'Planifie tes taches, garde tes ressources et avance chaque jour.',
      status: 'Initialisation en cours...',
      brandCaption: 'Organisation intelligente',
    },
    home: {
      greeting: 'Bonjour, {name}',
      subtitle: 'Ton tableau du jour est pret',
      daySummary: 'Resume du jour',
      todo: 'A faire',
      overdue: 'En retard',
      nextTasks: 'Prochaines taches',
      seeAll: 'Voir tout',
      seeResources: 'Voir ressources',
      quickAddTask: 'Ajouter une tache',
      quickAddResource: 'Ajouter une ressource',
      latestResources: 'Ressources recentes',
      noTaskTitle: 'Aucune tache',
      noTaskDescription: 'Tu es a jour.',
      noResourceTitle: 'Aucune ressource',
      noResourceDescription: 'Ajoute une ressource pour la retrouver rapidement ici.',
      latestAnnouncement: 'Derniere annonce',
      noAnnouncementTitle: 'Aucune annonce',
      noAnnouncementDescription:
        'Aucune communication active pour le moment.',
      readAnnouncement: 'Lire l annonce',
      dashboardLoadError: 'Impossible de charger le tableau de bord.',
      fallbackName: 'Etudiant',
    },
    tasks: {
      title: 'Mes taches',
      subtitle: 'Organisation claire et priorites visibles',
      filterAll: 'toutes',
      filterTodo: 'a-faire',
      filterDone: 'terminees',
      filterArchived: 'archivees',
      windowAll: 'toutes dates',
      archiveNotice:
        'Les taches archivees non persistantes sont supprimees automatiquement apres 24h.',
      emptyTitle: 'Aucune tache',
      emptyDescription: 'Tu es a jour pour cette periode.',
      emptyAdd: 'Ajouter une tache',
      emptyFilteredTitle: 'Aucun resultat',
      emptyFilteredDescription: 'Aucune tache pour ce filtre.',
      updateError: 'La mise a jour a echoue.',
      deleteError: 'Impossible de supprimer la tache.',
      loadError: 'Impossible de charger les taches.',
      swipeEdit: 'Modifier',
      swipeDelete: 'Supprimer',
    },
    resources: {
      title: 'Ressources',
      emptyTitle: 'Aucune ressource',
      emptyDescription:
        'Ajoute des notes, des liens ou des fichiers pour demarrer.',
      emptySearchTitle: 'Aucun resultat',
      emptySearchDescription: 'Aucune ressource ne correspond a la recherche.',
      loadError: 'Impossible de charger les ressources.',
      addedOn: 'Ajoute le {date}',
      actionTitle: 'Action ressource',
      edit: 'Modifier',
      delete: 'Supprimer',
      deleteError: 'Impossible de supprimer la ressource.',
      filterAll: 'tout',
      filterNote: 'note',
      filterLink: 'link',
      filterFile: 'file',
    },
    announcements: {
      title: 'Annonces',
      emptyTitle: 'Aucune annonce',
      emptyDescription:
        'Tu recevras ici les prochaines communications officielles.',
      loadError: 'Impossible de recuperer les annonces.',
    },
    announcementDetail: {
      notFound: 'Annonce introuvable.',
      errorLoad: 'Impossible de recuperer cette annonce.',
      emptyTitle: 'Introuvable',
      emptyDescription: 'Cette annonce n existe plus.',
      publishedOn: 'Publie le {date}',
    },
    taskDetail: {
      notFound: 'Tache introuvable.',
      errorLoad: 'Impossible de recuperer cette tache.',
      emptyTitle: 'Introuvable',
      emptyDescription: 'Cette tache n existe plus.',
      dueDate: 'Date limite',
      priority: 'Priorite',
      status: 'Statut',
      statusTodo: 'A faire',
      statusInProgress: 'En cours',
      statusDone: 'Terminee',
      description: 'Description',
      noDescription: 'Aucune description.',
      edit: 'Editer la tache',
    },
    resourceDetail: {
      notFound: 'Ressource introuvable.',
      errorLoad: 'Impossible de recuperer cette ressource.',
      emptyTitle: 'Introuvable',
      emptyDescription: 'Cette ressource n existe plus.',
      createdAt: 'Ajoute le',
      tags: 'Tags',
      noTags: 'Aucun tag',
      content: 'Contenu',
      noContent: 'Aucun contenu.',
      noUrl: "Aucun lien exploitable n'est disponible pour cette ressource.",
      openError: "Impossible d'ouvrir cette ressource a l'exterieur de l'application.",
      openLink: 'Ouvrir le lien',
      openImage: "Ouvrir l'image",
      openFile: 'Ouvrir le document',
      share: 'Partager',
      shareError: 'Impossible de partager cette ressource.',
      edit: 'Editer la ressource',
    },
    activityNotifications: {
      title: 'Notifications',
      subtitle: 'Activites recentes',
      emptyTitle: 'Aucune notification',
      emptyDescription: "Les ajouts de taches et ressources apparaitront ici.",
      taskLabel: 'Tache',
      resourceLabel: 'Ressource',
      view: 'Voir',
      taskCreatedTitle: 'Nouvelle tache ajoutee',
      taskCreatedMessage: 'Tu as ajoute la tache "{title}".',
      resourceCreatedTitle: 'Nouvelle ressource ajoutee',
      resourceCreatedMessage: 'Tu as ajoute la ressource "{title}".',
    },
    profile: {
      title: 'Profil',
      fallbackName: 'Etudiant',
      unknownEmail: 'email inconnu',
      activityTitle: "Analyse d'activite",
      activitySubtitle: 'Progression de tes taches',
      completionRate: 'Taux de completion',
      tasksPending: 'Taches en cours',
      totalTasksLabel: 'Taches totales',
      tasksCreated: 'Taches creees',
      tasksDone: 'Taches terminees',
      registrationDate: 'Date inscription',
      preferences: 'Preferences',
      preferencesHint: 'Langue et theme',
      security: 'Session et securite',
      securityHint: 'Deconnexion et confidentialite',
      language: 'Langue',
      theme: 'Theme',
      editProfile: 'Modifier le profil',
      signOut: 'Se deconnecter',
      french: 'Francais',
      english: 'English',
      system: 'Systeme',
      light: 'Clair',
      dark: 'Sombre',
      statsError: 'Impossible de lire les statistiques.',
      privacyTitle: 'Politique de confidentialite',
      privacyDescription:
        'Tes donnees personnelles, taches et ressources restent privees: elles sont liees a ton compte et ne sont pas visibles par les autres utilisateurs.',
    },
    taskEditor: {
      editTitle: 'Modifier tache',
      createTitle: 'Nouvelle tache',
      fieldTitle: 'Titre',
      fieldDescription: 'Description (optionnel)',
      fieldDueDate: 'Date limite',
      fieldPriority: 'Priorite',
      fieldPersistent: 'Tache persistante',
      persistentHelp: 'Une tache persistante archivee ne sera pas supprimee apres 24h.',
      titlePlaceholder: 'Ex: Rendre le devoir de maths',
      descriptionPlaceholder: 'Ajouter des details',
      saveSuccess: 'Tache enregistree',
      requiredTitle: 'Le titre est obligatoire.',
      invalidDate: 'Format de date attendu: YYYY-MM-DD',
      saveError: 'Impossible d enregistrer la tache.',
    },
    resourceEditor: {
      editTitle: 'Modifier ressource',
      createTitle: 'Ajouter ressource',
      fieldTitle: 'Titre',
      fieldType: 'Type de ressource',
      fieldTags: 'Tags (separes par virgule)',
      toolsLabel: "Outils d'edition",
      titlePlaceholder: 'Ex: Resume chapitre 5',
      tagsPlaceholder: 'revision, examen',
      fileUrlLabel: 'URL fichier',
      contentLabel: 'Contenu',
      fileUrlPlaceholder: 'https://...',
      linkPlaceholder: 'URL ou description du lien',
      notePlaceholder: 'Contenu de la note',
      requiredTitle: 'Le titre est obligatoire.',
      emptyFileUrl: "Ajoute d'abord une URL de fichier.",
      pickFileButton: 'Importer un fichier depuis le telephone',
      uploadFileButton: 'Uploader le fichier vers Supabase',
      copyAllButton: 'Copier',
      printButton: 'Imprimer',
      undoButton: 'Annuler',
      bulletButton: 'Liste',
      numberedButton: 'Numerotee',
      quoteButton: 'Citation',
      dateButton: 'Date',
      clearButton: 'Effacer',
      characters: '{count} caracteres',
      words: '{count} mots',
      emptyText: "Ajoute d'abord du texte.",
      copySuccess: 'Texte copie.',
      copyUnavailable: 'Copie indisponible sur cet appareil.',
      printSuccess: "Ouverture de l'impression.",
      printFallback: 'Impression indisponible: partage ouvert.',
      clearSuccess: 'Texte efface.',
      uploadError: "Impossible d'uploader le fichier vers Supabase.",
      saveError: 'Impossible d enregistrer la ressource.',
      saveSuccess: 'Ressource enregistree',
    },
    profileEditor: {
      title: 'Modifier profil',
      fieldFullName: 'Nom complet',
      fieldAvatarUrl: "URL de l'image profil",
      fullNamePlaceholder: 'Ex: Aris Dev',
      avatarPlaceholder: 'https://...',
      avatarHelp: 'Tu peux utiliser une image publique (JPG, PNG, WebP).',
      emptyAvatarUrl: "Ajoute d'abord une URL d'image.",
      pickAvatarButton: 'Importer une photo depuis le telephone',
      uploadAvatarButton: "Uploader la photo vers Supabase",
      mediaPermissionDenied: "L'acces a la galerie est refuse. Autorise la permission pour continuer.",
      uploadError: "Impossible d'uploader la photo vers Supabase.",
      saveError: 'Impossible de mettre a jour le profil.',
      invalidAvatarUrl:
        "L'URL de l'image doit commencer par http:// ou https://",
      saveSuccess: 'Profil mis a jour',
      fallbackName: 'Etudiant',
    },
  },
  en: {
    common: {
      loading: 'Loading...',
      retry: 'Retry',
      back: 'Back',
      save: 'Save',
      add: 'Add',
      cancel: 'Cancel',
      noDate: 'No date',
      today: 'today',
      week: 'week',
      important: 'Important',
      details: 'View details',
      searchResource: 'Search resource',
      networkErrorTitle: 'Network error',
      genericError: 'An error occurred.',
      selectedCount: '{count} selected',
    },
    nav: {
      home: 'Home',
      tasks: 'Tasks',
      resources: 'Resources',
      announcements: 'Announcements',
      profile: 'Profile',
    },
    states: {
      auto: 'auto',
      loading: 'loading',
      empty: 'empty',
      error: 'error',
    },
    priority: {
      low: 'Low',
      medium: 'Medium',
      high: 'High',
    },
    auth: {
      onboardingTitle: 'Organize your student day',
      onboardingSubtitle:
        'Manage tasks, centralize resources, and stay informed with announcements.',
      onboardingCreateAccount: 'Create account',
      onboardingSignIn: 'Sign in',
      loginTitle: 'Sign in',
      loginSubtitle: 'Access your student space.',
      signupTitle: 'Sign up',
      signupSubtitle: 'Create your account and get organized.',
      email: 'Email',
      password: 'Password',
      passwordConfirm: 'Confirm password',
      forgotPassword: 'Forgot password?',
      continue: 'Continue',
      noAccount: "Don't have an account?",
      hasAccount: 'Already have an account?',
      signIn: 'Sign in',
      signUp: 'Sign up',
      forgotTitle: 'Forgot password',
      forgotSubtitle: 'Enter your email to receive a reset link.',
      forgotSend: 'Send link',
      forgotBackToLogin: 'Back to login',
      resetTitle: 'New password',
      resetSubtitle: 'Set your new password to secure your account.',
      resetUpdate: 'Update',
      resetReadyError:
        'Reset session not found. Open the email link on this phone.',
      resetOpenFromMail:
        'Open this screen from the email link to enable password reset.',
      errRequiredFields: 'All fields are required.',
      errEmailRequired: 'Enter your email address.',
      errEmailPasswordRequired: 'Email and password are required.',
      errPasswordMismatch: 'Password confirmation does not match.',
      errPasswordShort: 'Password must contain at least 6 characters.',
      infoSignupVerifyMail: 'Account created. Check your email then sign in.',
      infoMailSent: 'Email sent. Open the link to set a new password.',
      infoPasswordUpdated: 'Password updated. You can sign in now.',
      welcomeTitle: 'Welcome to StudyDay',
      welcomeLoginMessage:
        'Keep your tasks, resources, and announcements in one place every day.',
      welcomeSignupMessage:
        'You can now manage tasks, resources, and announcements from one app.',
    },
    postLogin: {
      kicker: 'Connected',
      title: 'Welcome, {name}',
      subtitle: 'Your space is preparing your tasks, resources and announcements.',
      loadingDashboard: 'Loading your dashboard...',
      skip: 'Skip',
      fallbackName: 'Student',
    },
    launch: {
      title: 'Your student workspace',
      subtitle: 'Plan tasks, keep resources, and move forward every day.',
      status: 'Initializing...',
      brandCaption: 'Smart organization',
    },
    home: {
      greeting: 'Hello, {name}',
      subtitle: 'Your day dashboard is ready',
      daySummary: 'Today summary',
      todo: 'To do',
      overdue: 'Overdue',
      nextTasks: 'Next tasks',
      seeAll: 'See all',
      seeResources: 'See resources',
      quickAddTask: 'Add a task',
      quickAddResource: 'Add a resource',
      latestResources: 'Recent resources',
      noTaskTitle: 'No task',
      noTaskDescription: 'You are up to date.',
      noResourceTitle: 'No resource',
      noResourceDescription: 'Add a resource to find it quickly here.',
      latestAnnouncement: 'Latest announcement',
      noAnnouncementTitle: 'No announcement',
      noAnnouncementDescription:
        'No active communication at the moment.',
      readAnnouncement: 'Read announcement',
      dashboardLoadError: 'Unable to load dashboard.',
      fallbackName: 'Student',
    },
    tasks: {
      title: 'My tasks',
      subtitle: 'Clear organization and visible priorities',
      filterAll: 'all',
      filterTodo: 'to-do',
      filterDone: 'done',
      filterArchived: 'archived',
      windowAll: 'all dates',
      archiveNotice: 'Non-persistent archived tasks are automatically deleted after 24h.',
      emptyTitle: 'No task',
      emptyDescription: 'You are up to date for this period.',
      emptyAdd: 'Add a task',
      emptyFilteredTitle: 'No result',
      emptyFilteredDescription: 'No task for this filter.',
      updateError: 'Update failed.',
      deleteError: 'Unable to delete task.',
      loadError: 'Unable to load tasks.',
      swipeEdit: 'Edit',
      swipeDelete: 'Delete',
    },
    resources: {
      title: 'Resources',
      emptyTitle: 'No resource',
      emptyDescription: 'Add notes, links, or files to get started.',
      emptySearchTitle: 'No result',
      emptySearchDescription: 'No resource matches your search.',
      loadError: 'Unable to load resources.',
      addedOn: 'Added on {date}',
      actionTitle: 'Resource action',
      edit: 'Edit',
      delete: 'Delete',
      deleteError: 'Unable to delete resource.',
      filterAll: 'all',
      filterNote: 'note',
      filterLink: 'link',
      filterFile: 'file',
    },
    announcements: {
      title: 'Announcements',
      emptyTitle: 'No announcement',
      emptyDescription:
        'You will receive official communications here.',
      loadError: 'Unable to fetch announcements.',
    },
    announcementDetail: {
      notFound: 'Announcement not found.',
      errorLoad: 'Unable to load this announcement.',
      emptyTitle: 'Not found',
      emptyDescription: 'This announcement no longer exists.',
      publishedOn: 'Published on {date}',
    },
    taskDetail: {
      notFound: 'Task not found.',
      errorLoad: 'Unable to load this task.',
      emptyTitle: 'Not found',
      emptyDescription: 'This task no longer exists.',
      dueDate: 'Due date',
      priority: 'Priority',
      status: 'Status',
      statusTodo: 'To do',
      statusInProgress: 'In progress',
      statusDone: 'Done',
      description: 'Description',
      noDescription: 'No description.',
      edit: 'Edit task',
    },
    resourceDetail: {
      notFound: 'Resource not found.',
      errorLoad: 'Unable to load this resource.',
      emptyTitle: 'Not found',
      emptyDescription: 'This resource no longer exists.',
      createdAt: 'Added on',
      tags: 'Tags',
      noTags: 'No tags',
      content: 'Content',
      noContent: 'No content.',
      noUrl: 'No usable link is available for this resource.',
      openError: 'Unable to open this resource outside the application.',
      openLink: 'Open link',
      openImage: 'Open image',
      openFile: 'Open document',
      share: 'Share',
      shareError: 'Unable to share this resource.',
      edit: 'Edit resource',
    },
    activityNotifications: {
      title: 'Notifications',
      subtitle: 'Recent activity',
      emptyTitle: 'No notifications',
      emptyDescription: 'New tasks and resources will appear here.',
      taskLabel: 'Task',
      resourceLabel: 'Resource',
      view: 'View',
      taskCreatedTitle: 'New task added',
      taskCreatedMessage: 'You added the task "{title}".',
      resourceCreatedTitle: 'New resource added',
      resourceCreatedMessage: 'You added the resource "{title}".',
    },
    profile: {
      title: 'Profile',
      fallbackName: 'Student',
      unknownEmail: 'unknown email',
      activityTitle: 'Activity analysis',
      activitySubtitle: 'Your task progress',
      completionRate: 'Completion rate',
      tasksPending: 'Pending tasks',
      totalTasksLabel: 'Total tasks',
      tasksCreated: 'Tasks created',
      tasksDone: 'Tasks completed',
      registrationDate: 'Registration date',
      preferences: 'Preferences',
      preferencesHint: 'Language and theme',
      security: 'Session and security',
      securityHint: 'Sign out and privacy',
      language: 'Language',
      theme: 'Theme',
      editProfile: 'Edit profile',
      signOut: 'Sign out',
      french: 'French',
      english: 'English',
      system: 'System',
      light: 'Light',
      dark: 'Dark',
      statsError: 'Unable to read statistics.',
      privacyTitle: 'Privacy policy',
      privacyDescription:
        'Your personal data, tasks, and resources stay private: they are tied to your account and not visible to other users.',
    },
    taskEditor: {
      editTitle: 'Edit task',
      createTitle: 'New task',
      fieldTitle: 'Title',
      fieldDescription: 'Description (optional)',
      fieldDueDate: 'Due date',
      fieldPriority: 'Priority',
      fieldPersistent: 'Persistent task',
      persistentHelp: 'A persistent archived task will not be deleted after 24h.',
      titlePlaceholder: 'Ex: Submit math assignment',
      descriptionPlaceholder: 'Add details',
      saveSuccess: 'Task saved',
      requiredTitle: 'Title is required.',
      invalidDate: 'Expected date format: YYYY-MM-DD',
      saveError: 'Unable to save task.',
    },
    resourceEditor: {
      editTitle: 'Edit resource',
      createTitle: 'Add resource',
      fieldTitle: 'Title',
      fieldType: 'Resource type',
      fieldTags: 'Tags (comma separated)',
      toolsLabel: 'Editing tools',
      titlePlaceholder: 'Ex: Chapter 5 summary',
      tagsPlaceholder: 'review, exam',
      fileUrlLabel: 'File URL',
      contentLabel: 'Content',
      fileUrlPlaceholder: 'https://...',
      linkPlaceholder: 'URL or link description',
      notePlaceholder: 'Note content',
      requiredTitle: 'Title is required.',
      emptyFileUrl: 'Please enter a file URL first.',
      pickFileButton: 'Import file from phone',
      uploadFileButton: 'Upload file to Supabase',
      copyAllButton: 'Copy',
      printButton: 'Print',
      undoButton: 'Undo',
      bulletButton: 'Bullet',
      numberedButton: 'Numbered',
      quoteButton: 'Quote',
      dateButton: 'Date',
      clearButton: 'Clear',
      characters: '{count} characters',
      words: '{count} words',
      emptyText: 'Please add some text first.',
      copySuccess: 'Text copied.',
      copyUnavailable: 'Copy is unavailable on this device.',
      printSuccess: 'Opening print.',
      printFallback: 'Print unavailable: opened share sheet.',
      clearSuccess: 'Text cleared.',
      uploadError: 'Unable to upload file to Supabase.',
      saveError: 'Unable to save resource.',
      saveSuccess: 'Resource saved',
    },
    profileEditor: {
      title: 'Edit profile',
      fieldFullName: 'Full name',
      fieldAvatarUrl: 'Profile image URL',
      fullNamePlaceholder: 'Ex: Aris Dev',
      avatarPlaceholder: 'https://...',
      avatarHelp: 'You can use a public image (JPG, PNG, WebP).',
      emptyAvatarUrl: 'Please enter an image URL first.',
      pickAvatarButton: 'Import photo from phone',
      uploadAvatarButton: 'Upload photo to Supabase',
      mediaPermissionDenied: 'Gallery access was denied. Please allow permission and try again.',
      uploadError: 'Unable to upload photo to Supabase.',
      saveError: 'Unable to update profile.',
      invalidAvatarUrl:
        'Image URL must start with http:// or https://',
      saveSuccess: 'Profile updated',
      fallbackName: 'Student',
    },
  },
} as const;

export function getLocaleForLanguage(language: AppLanguage): string {
  return language === 'en' ? 'en-US' : 'fr-FR';
}

function resolveKey(dictionary: Record<string, unknown>, key: string): string | null {
  const value = key
    .split('.')
    .reduce<unknown>((acc, part) => {
      if (!acc || typeof acc !== 'object') return null;
      return (acc as Record<string, unknown>)[part];
    }, dictionary);

  return typeof value === 'string' ? value : null;
}

function interpolate(text: string, params?: I18nParams): string {
  if (!params) return text;
  return text.replace(/\{(\w+)\}/g, (_match, token: string) => {
    if (!(token in params)) return '';
    return String(params[token]);
  });
}

export function translate(language: AppLanguage, key: string, params?: I18nParams): string {
  const current = resolveKey(dictionaries[language], key);
  if (current) return interpolate(current, params);

  const fallback = resolveKey(dictionaries.fr, key);
  if (fallback) return interpolate(fallback, params);

  return key;
}
